{"ast":null,"code":"import _classCallCheck from \"/home/ioana/Desktop/Energy Management System/react-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/ioana/Desktop/Energy Management System/react-demo/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/ioana/Desktop/Energy Management System/react-demo/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/ioana/Desktop/Energy Management System/react-demo/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/home/ioana/Desktop/Energy Management System/react-demo/src/admin/new-user.js\";\nimport React, { Component } from 'react';\nimport './user-list.css';\nvar UserInsert = /*#__PURE__*/function (_Component) {\n  _inherits(UserInsert, _Component);\n  var _super = _createSuper(UserInsert);\n  function UserInsert(props) {\n    var _this;\n    _classCallCheck(this, UserInsert);\n    _this = _super.call(this, props);\n    _this.handleNewUserChange = function (field, value) {\n      var newUser = _this.state.newUser;\n      newUser[field] = value;\n      _this.setState({\n        newUser: newUser\n      });\n    };\n    _this.handleInsertUser = function () {\n      var newUser = _this.state.newUser;\n      fetch('http://localhost:8080/user', {\n        method: 'POST',\n        headers: {\n          'Authorization': 'Bearer ' + localStorage.getItem('token'),\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newUser)\n      }).then(function (response) {\n        if (response.status === 201) {\n          window.alert('User inserted successfully');\n          _this.props.onInsertSuccess();\n          _this.setState({\n            newUser: {\n              email: '',\n              username: '',\n              password: '',\n              age: 18,\n              role: 'CLIENT'\n            }\n          }); // Reset age to 18\n          window.location.href = '/admin/users';\n        } else {\n          window.alert('Failed to insert the user. Please verify the email and username to ensure they are not already in use.');\n        }\n      }).catch(function (error) {\n        console.error('Error inserting user: server problem.', error);\n      });\n    };\n    _this.state = {\n      newUser: {\n        email: '',\n        username: '',\n        password: '',\n        age: 18,\n        role: 'CLIENT'\n      }\n    };\n    return _this;\n  }\n  _createClass(UserInsert, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var newUser = this.state.newUser;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"insert-user-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }\n      }, \"Insert New User\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Email\",\n        value: newUser.email,\n        onChange: function onChange(e) {\n          return _this2.handleNewUserChange('email', e.target.value);\n        },\n        style: {\n          marginBottom: '20px',\n          padding: '10px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Username\",\n        value: newUser.username,\n        onChange: function onChange(e) {\n          return _this2.handleNewUserChange('username', e.target.value);\n        },\n        style: {\n          marginBottom: '20px',\n          padding: '10px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        value: newUser.password,\n        onChange: function onChange(e) {\n          return _this2.handleNewUserChange('password', e.target.value);\n        },\n        style: {\n          marginBottom: '20px',\n          padding: '10px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        placeholder: \"Age\",\n        value: newUser.age,\n        onChange: function onChange(e) {\n          return _this2.handleNewUserChange('age', e.target.value);\n        },\n        style: {\n          marginBottom: '20px',\n          padding: '10px'\n        },\n        min: \"18\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"select\", {\n        value: newUser.role,\n        onChange: function onChange(e) {\n          return _this2.handleNewUserChange('role', e.target.value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"ADMIN\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }\n      }, \"ADMIN\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"CLIENT\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, \"CLIENT\")), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"round-blue-button\",\n        onClick: this.handleInsertUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }\n      }, \"Insert User\"));\n    }\n  }]);\n  return UserInsert;\n}(Component);\nexport default UserInsert;","map":{"version":3,"names":["React","Component","UserInsert","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleNewUserChange","field","value","newUser","state","setState","handleInsertUser","fetch","method","headers","localStorage","getItem","body","JSON","stringify","then","response","status","window","alert","onInsertSuccess","email","username","password","age","role","location","href","catch","error","console","_createClass","key","render","_this2","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","target","style","marginBottom","padding","min","onClick"],"sources":["/home/ioana/Desktop/Energy Management System/react-demo/src/admin/new-user.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './user-list.css'; \n\nclass UserInsert extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      newUser: { email: '', username: '', password: '', age: 18, role: 'CLIENT' }, \n    };\n  }\n\n  handleNewUserChange = (field, value) => {\n    const { newUser } = this.state;\n    newUser[field] = value;\n    this.setState({ newUser });\n  };\n\n  handleInsertUser = () => {\n    const { newUser } = this.state;\n    fetch('http://localhost:8080/user', {\n      method: 'POST',\n      headers: {\n        'Authorization': 'Bearer ' + localStorage.getItem('token'),\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(newUser),\n    })\n      .then((response) => {\n        if (response.status === 201) {\n          window.alert('User inserted successfully');\n          this.props.onInsertSuccess(); \n          this.setState({ newUser: { email: '', username: '', password: '', age: 18, role: 'CLIENT' } }); // Reset age to 18\n          window.location.href = '/admin/users';\n        } else {\n          window.alert('Failed to insert the user. Please verify the email and username to ensure they are not already in use.');\n        }\n      })\n      .catch((error) => {\n        console.error('Error inserting user: server problem.', error);\n      });\n  };\n\n  render() {\n    const { newUser } = this.state;\n\n    return (\n      <div className=\"insert-user-container\"> \n        <h3>Insert New User</h3>\n        <input\n          type=\"text\"\n          placeholder=\"Email\"\n          value={newUser.email}\n          onChange={(e) => this.handleNewUserChange('email', e.target.value)}\n          style={{ marginBottom: '20px', padding: '10px' }}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Username\"\n          value={newUser.username}\n          onChange={(e) => this.handleNewUserChange('username', e.target.value)}\n          style={{ marginBottom: '20px', padding: '10px' }}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={newUser.password}\n          onChange={(e) => this.handleNewUserChange('password', e.target.value)}\n          style={{ marginBottom: '20px', padding: '10px' }}\n        />\n        <input\n          type=\"number\"\n          placeholder=\"Age\" \n          value={newUser.age}\n          onChange={(e) => this.handleNewUserChange('age', e.target.value)}\n          style={{ marginBottom: '20px', padding: '10px' }}\n          min=\"18\" \n        />\n        <select\n          value={newUser.role}\n          onChange={(e) => this.handleNewUserChange('role', e.target.value)}\n        >\n          <option value=\"ADMIN\">ADMIN</option>\n          <option value=\"CLIENT\">CLIENT</option>\n        </select>\n        <button className=\"round-blue-button\" onClick={this.handleInsertUser}>\n          Insert User\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default UserInsert;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}