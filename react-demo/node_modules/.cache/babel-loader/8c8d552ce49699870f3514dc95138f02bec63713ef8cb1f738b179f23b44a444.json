{"ast":null,"code":"import _regeneratorRuntime from \"/home/ioana/Desktop/Energy Management System/react-demo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/ioana/Desktop/Energy Management System/react-demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/home/ioana/Desktop/Energy Management System/react-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/ioana/Desktop/Energy Management System/react-demo/src/client/energy-consumption.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nvar EnergyConsumptionPage = function EnergyConsumptionPage() {\n  _s();\n  var _useState = useState(new Date()),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedDate = _useState2[0],\n    setSelectedDate = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    devices = _useState4[0],\n    setDevices = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedDevice = _useState6[0],\n    setSelectedDevice = _useState6[1];\n  useEffect(function () {\n    // Fetch devices from the backend API on component mount\n    fetchDevices();\n  }, []);\n  var fetchDevices = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return axios.get('http://localhost:8081/devices', {\n              headers: {\n                Authorization: 'Bearer ' + localStorage.getItem('token')\n              }\n            });\n          case 3:\n            response = _context.sent;\n            setDevices(response.data);\n            _context.next = 10;\n            break;\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            console.error('Error fetching devices:', _context.t0);\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n    return function fetchDevices() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleDeviceChange = function handleDeviceChange(deviceId) {\n    setSelectedDevice(deviceId);\n  };\n  var handleDateChange = function handleDateChange(e) {\n    setSelectedDate(new Date(e.target.value));\n  };\n  var fetchData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            // Placeholder for fetching energy consumption data based on selected date and device\n            // You should replace this with your actual implementation to fetch data and display charts\n            console.log('Fetching data for', selectedDevice, selectedDate);\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function fetchData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    if (selectedDevice && selectedDate) {\n      fetchData();\n    }\n  }, [selectedDevice, selectedDate]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Energy Consumption\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"calendar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, \"Select Date:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    id: \"calendar\",\n    value: selectedDate.toISOString().slice(0, 10),\n    onChange: handleDateChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"deviceDropdown\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Select Device:\"), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"deviceDropdown\",\n    onChange: function onChange(e) {\n      return handleDeviceChange(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, \"Select\"), devices.map(function (device) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: device.id,\n      value: device.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, device.name, \" - \", device.id);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Line Chart Placeholder\")));\n};\n_s(EnergyConsumptionPage, \"GYf+0hoc/w450vSxlgLXOm5N+xQ=\");\n_c = EnergyConsumptionPage;\nexport default EnergyConsumptionPage;\nvar _c;\n$RefreshReg$(_c, \"EnergyConsumptionPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","EnergyConsumptionPage","_s","_useState","Date","_useState2","_slicedToArray","selectedDate","setSelectedDate","_useState3","_useState4","devices","setDevices","_useState5","_useState6","selectedDevice","setSelectedDevice","fetchDevices","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","headers","Authorization","localStorage","getItem","sent","data","t0","console","error","stop","apply","arguments","handleDeviceChange","deviceId","handleDateChange","e","target","value","fetchData","_ref2","_callee2","_callee2$","_context2","log","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","toISOString","slice","onChange","map","device","key","name","_c","$RefreshReg$"],"sources":["/home/ioana/Desktop/Energy Management System/react-demo/src/client/energy-consumption.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst EnergyConsumptionPage = () => {\n    const [selectedDate, setSelectedDate] = useState(new Date());\n    const [devices, setDevices] = useState([]);\n    const [selectedDevice, setSelectedDevice] = useState(null);\n\n    useEffect(() => {\n        // Fetch devices from the backend API on component mount\n        fetchDevices();\n    }, []);\n\n    const fetchDevices = async () => {\n        try {\n            const response = await axios.get('http://localhost:8081/devices', {\n                headers: {\n                    Authorization: 'Bearer ' + localStorage.getItem('token'),\n                },\n            });\n            setDevices(response.data);\n        } catch (error) {\n            console.error('Error fetching devices:', error);\n        }\n    };\n\n    const handleDeviceChange = (deviceId) => {\n        setSelectedDevice(deviceId);\n    };\n\n    const handleDateChange = (e) => {\n        setSelectedDate(new Date(e.target.value));\n    };\n\n    const fetchData = async () => {\n        // Placeholder for fetching energy consumption data based on selected date and device\n        // You should replace this with your actual implementation to fetch data and display charts\n        console.log('Fetching data for', selectedDevice, selectedDate);\n    };\n\n    useEffect(() => {\n        if (selectedDevice && selectedDate) {\n            fetchData();\n        }\n    }, [selectedDevice, selectedDate]);\n\n    return (\n        <div>\n            <h1>Energy Consumption</h1>\n            <div>\n                <label htmlFor=\"calendar\">Select Date:</label>\n                <input\n                    type=\"date\"\n                    id=\"calendar\"\n                    value={selectedDate.toISOString().slice(0, 10)}\n                    onChange={handleDateChange}\n                />\n            </div>\n            <div>\n                <label htmlFor=\"deviceDropdown\">Select Device:</label>\n                <select id=\"deviceDropdown\" onChange={(e) => handleDeviceChange(e.target.value)}>\n                    <option value=\"\">Select</option>\n                    {devices.map((device) => (\n                        <option key={device.id} value={device.id}>\n                            {device.name} - {device.id}\n                        </option>\n                    ))}\n                </select>\n            </div>\n            <div>\n                {/* Placeholder for Line Chart component */}\n                <h3>Line Chart Placeholder</h3>\n                {/* You can integrate an actual line chart component here */}\n            </div>\n        </div>\n    );\n};\n\nexport default EnergyConsumptionPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}