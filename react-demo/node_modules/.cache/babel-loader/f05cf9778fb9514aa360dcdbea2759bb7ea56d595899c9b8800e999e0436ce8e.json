{"ast":null,"code":"import _toConsumableArray from \"/home/ioana/Desktop/Energy Management System/react-demo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/home/ioana/Desktop/Energy Management System/react-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/ioana/Desktop/Energy Management System/react-demo/src/client/user-notifications.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport SockJsClient from 'react-stomp';\nimport './user-notifications.css';\nvar SOCKET_URL = 'http://localhost:8281/websocket';\nvar UserNotifications = function UserNotifications() {\n  _s();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    notifications = _useState2[0],\n    setNotifications = _useState2[1];\n  var onConnected = function onConnected() {\n    console.log('Connected!!');\n  };\n  var onMessageReceived = function onMessageReceived(msg) {\n    setNotifications(function (prevNotifications) {\n      return [].concat(_toConsumableArray(prevNotifications), [msg.message]);\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SockJsClient, {\n    url: SOCKET_URL,\n    topics: ['/topic/message'],\n    onConnect: onConnected,\n    onDisconnect: function onDisconnect() {\n      return console.log('Disconnected!');\n    },\n    onMessage: function onMessage(msg) {\n      return onMessageReceived(msg);\n    },\n    debug: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notifications\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, \"Notifications:\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, notifications.map(function (notification, index) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 25\n      }\n    }, notification);\n  }))));\n};\n_s(UserNotifications, \"/HH3zTd3BUNOgnlhD79kguSWbWM=\");\n_c = UserNotifications;\nexport default UserNotifications;\nvar _c;\n$RefreshReg$(_c, \"UserNotifications\");","map":{"version":3,"names":["React","useState","SockJsClient","SOCKET_URL","UserNotifications","_s","_useState","_useState2","_slicedToArray","notifications","setNotifications","onConnected","console","log","onMessageReceived","msg","prevNotifications","concat","_toConsumableArray","message","createElement","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","url","topics","onConnect","onDisconnect","onMessage","debug","map","notification","index","key","_c","$RefreshReg$"],"sources":["/home/ioana/Desktop/Energy Management System/react-demo/src/client/user-notifications.js"],"sourcesContent":["import React, { useState } from 'react';\nimport SockJsClient from 'react-stomp';\nimport './user-notifications.css'\nconst SOCKET_URL = 'http://localhost:8281/websocket';\n\nconst UserNotifications = () => {\n    const [notifications, setNotifications] = useState([]);\n\n    let onConnected = () => {\n        console.log('Connected!!');\n    };\n\n    let onMessageReceived = (msg) => {\n        setNotifications(prevNotifications => [...prevNotifications, msg.message]);\n    };\n\n\n    return (\n        <div className=\"container\">\n            <SockJsClient\n                url={SOCKET_URL}\n                topics={['/topic/message']}\n                onConnect={onConnected}\n                onDisconnect={() => console.log('Disconnected!')}\n                onMessage={(msg) => onMessageReceived(msg)}\n                debug={false}\n            />\n            <div className=\"notifications\">\n                <h3>Notifications:</h3>\n                <ul>\n                    {notifications.map((notification, index) => (\n                        <li key={index}>{notification}</li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    );\n};\n\nexport default UserNotifications;\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,YAAY,MAAM,aAAa;AACtC,OAAO,0BAA0B;AACjC,IAAMC,UAAU,GAAG,iCAAiC;AAEpD,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAA,EAAS;EAAAC,EAAA;EAC5B,IAAAC,SAAA,GAA0CL,QAAQ,CAAC,EAAE,CAAC;IAAAM,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/CG,aAAa,GAAAF,UAAA;IAAEG,gBAAgB,GAAAH,UAAA;EAEtC,IAAII,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAS;IACpBC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;EAC9B,CAAC;EAED,IAAIC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,GAAG,EAAK;IAC7BL,gBAAgB,CAAC,UAAAM,iBAAiB;MAAA,UAAAC,MAAA,CAAAC,kBAAA,CAAQF,iBAAiB,IAAED,GAAG,CAACI,OAAO;IAAA,CAAC,CAAC;EAC9E,CAAC;EAGD,oBACInB,KAAA,CAAAoB,aAAA;IAAKC,SAAS,EAAC,WAAW;IAAAC,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtB5B,KAAA,CAAAoB,aAAA,CAAClB,YAAY;IACT2B,GAAG,EAAE1B,UAAW;IAChB2B,MAAM,EAAE,CAAC,gBAAgB,CAAE;IAC3BC,SAAS,EAAEpB,WAAY;IACvBqB,YAAY,EAAE,SAAAA,aAAA;MAAA,OAAMpB,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAAA,CAAC;IACjDoB,SAAS,EAAE,SAAAA,UAAClB,GAAG;MAAA,OAAKD,iBAAiB,CAACC,GAAG,CAAC;IAAA,CAAC;IAC3CmB,KAAK,EAAE,KAAM;IAAAZ,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAChB,CAAC,eACF5B,KAAA,CAAAoB,aAAA;IAAKC,SAAS,EAAC,eAAe;IAAAC,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1B5B,KAAA,CAAAoB,aAAA;IAAAE,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,gBAAkB,CAAC,eACvB5B,KAAA,CAAAoB,aAAA;IAAAE,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACKnB,aAAa,CAAC0B,GAAG,CAAC,UAACC,YAAY,EAAEC,KAAK;IAAA,oBACnCrC,KAAA,CAAAoB,aAAA;MAAIkB,GAAG,EAAED,KAAM;MAAAf,MAAA,EAAAC,KAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEQ,YAAiB,CAAC;EAAA,CACtC,CACD,CACH,CACJ,CAAC;AAEd,CAAC;AAAC/B,EAAA,CAhCID,iBAAiB;AAAAmC,EAAA,GAAjBnC,iBAAiB;AAkCvB,eAAeA,iBAAiB;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}