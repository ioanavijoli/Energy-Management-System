{"ast":null,"code":"import _classCallCheck from \"/home/ioana/Desktop/Energy Management System/react-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/ioana/Desktop/Energy Management System/react-demo/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/ioana/Desktop/Energy Management System/react-demo/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/ioana/Desktop/Energy Management System/react-demo/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/home/ioana/Desktop/Energy Management System/react-demo/src/admin/new-user.js\";\nimport React, { Component } from 'react';\nimport './user-list.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar UserInsert = /*#__PURE__*/function (_Component) {\n  _inherits(UserInsert, _Component);\n  var _super = _createSuper(UserInsert);\n  function UserInsert(props) {\n    var _this;\n    _classCallCheck(this, UserInsert);\n    _this = _super.call(this, props);\n    _this.handleNewUserChange = function (field, value) {\n      var newUser = _this.state.newUser;\n      newUser[field] = value;\n      _this.setState({\n        newUser: newUser\n      });\n    };\n    _this.handleInsertUser = function () {\n      var newUser = _this.state.newUser;\n      fetch('http://localhost:8080/user', {\n        method: 'POST',\n        headers: {\n          'Authorization': 'Bearer ' + localStorage.getItem('token'),\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newUser)\n      }).then(function (response) {\n        if (response.status === 201) {\n          window.alert('User inserted successfully');\n          _this.props.onInsertSuccess();\n          _this.setState({\n            newUser: {\n              email: '',\n              username: '',\n              password: '',\n              age: 18,\n              role: 'CLIENT'\n            }\n          }); // Reset age to 18\n          window.location.href = '/admin/users';\n        } else {\n          window.alert('Failed to insert the user. Please verify the email and username to ensure they are not already in use.');\n        }\n      }).catch(function (error) {\n        console.error('Error inserting user: server problem.', error);\n      });\n    };\n    _this.state = {\n      newUser: {\n        email: '',\n        username: '',\n        password: '',\n        age: 18,\n        role: 'CLIENT'\n      }\n    };\n    return _this;\n  }\n  _createClass(UserInsert, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var newUser = this.state.newUser;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"insert-user-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Insert New User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Email\",\n          value: newUser.email,\n          onChange: function onChange(e) {\n            return _this2.handleNewUserChange('email', e.target.value);\n          },\n          style: {\n            marginBottom: '20px',\n            padding: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Username\",\n          value: newUser.username,\n          onChange: function onChange(e) {\n            return _this2.handleNewUserChange('username', e.target.value);\n          },\n          style: {\n            marginBottom: '20px',\n            padding: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: newUser.password,\n          onChange: function onChange(e) {\n            return _this2.handleNewUserChange('password', e.target.value);\n          },\n          style: {\n            marginBottom: '20px',\n            padding: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"Age\",\n          value: newUser.age,\n          onChange: function onChange(e) {\n            return _this2.handleNewUserChange('age', e.target.value);\n          },\n          style: {\n            marginBottom: '20px',\n            padding: '10px'\n          },\n          min: \"18\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: newUser.role,\n          onChange: function onChange(e) {\n            return _this2.handleNewUserChange('role', e.target.value);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"ADMIN\",\n            children: \"ADMIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"CLIENT\",\n            children: \"CLIENT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"round-blue-button\",\n          onClick: this.handleInsertUser,\n          children: \"Insert User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n  return UserInsert;\n}(Component);\nexport default UserInsert;","map":{"version":3,"names":["React","Component","jsxDEV","_jsxDEV","UserInsert","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleNewUserChange","field","value","newUser","state","setState","handleInsertUser","fetch","method","headers","localStorage","getItem","body","JSON","stringify","then","response","status","window","alert","onInsertSuccess","email","username","password","age","role","location","href","catch","error","console","_createClass","key","render","_this2","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","target","style","marginBottom","padding","min","onClick"],"sources":["/home/ioana/Desktop/Energy Management System/react-demo/src/admin/new-user.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './user-list.css'; \n\nclass UserInsert extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      newUser: { email: '', username: '', password: '', age: 18, role: 'CLIENT' }, \n    };\n  }\n\n  handleNewUserChange = (field, value) => {\n    const { newUser } = this.state;\n    newUser[field] = value;\n    this.setState({ newUser });\n  };\n\n  handleInsertUser = () => {\n    const { newUser } = this.state;\n    fetch('http://localhost:8080/user', {\n      method: 'POST',\n      headers: {\n        'Authorization': 'Bearer ' + localStorage.getItem('token'),\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(newUser),\n    })\n      .then((response) => {\n        if (response.status === 201) {\n          window.alert('User inserted successfully');\n          this.props.onInsertSuccess(); \n          this.setState({ newUser: { email: '', username: '', password: '', age: 18, role: 'CLIENT' } }); // Reset age to 18\n          window.location.href = '/admin/users';\n        } else {\n          window.alert('Failed to insert the user. Please verify the email and username to ensure they are not already in use.');\n        }\n      })\n      .catch((error) => {\n        console.error('Error inserting user: server problem.', error);\n      });\n  };\n\n  render() {\n    const { newUser } = this.state;\n\n    return (\n      <div className=\"insert-user-container\"> \n        <h3>Insert New User</h3>\n        <input\n          type=\"text\"\n          placeholder=\"Email\"\n          value={newUser.email}\n          onChange={(e) => this.handleNewUserChange('email', e.target.value)}\n          style={{ marginBottom: '20px', padding: '10px' }}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Username\"\n          value={newUser.username}\n          onChange={(e) => this.handleNewUserChange('username', e.target.value)}\n          style={{ marginBottom: '20px', padding: '10px' }}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={newUser.password}\n          onChange={(e) => this.handleNewUserChange('password', e.target.value)}\n          style={{ marginBottom: '20px', padding: '10px' }}\n        />\n        <input\n          type=\"number\"\n          placeholder=\"Age\" \n          value={newUser.age}\n          onChange={(e) => this.handleNewUserChange('age', e.target.value)}\n          style={{ marginBottom: '20px', padding: '10px' }}\n          min=\"18\" \n        />\n        <select\n          value={newUser.role}\n          onChange={(e) => this.handleNewUserChange('role', e.target.value)}\n        >\n          <option value=\"ADMIN\">ADMIN</option>\n          <option value=\"CLIENT\">CLIENT</option>\n        </select>\n        <button className=\"round-blue-button\" onClick={this.handleInsertUser}>\n          Insert User\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default UserInsert;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}